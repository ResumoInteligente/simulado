<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Resumo Inteligente</title>
<style>
    :root {
        --primary: #2563eb;
        --primary-dark: #1e40af;
        --background: #0d1117;
        --card: #111827;
        --text-light: #60a5fa;
        --danger: #dc2626;
    }

    body {
        margin: 0;
        font-family: "Inter", sans-serif;
        background: radial-gradient(circle at top left, #0a0f1a, var(--background));
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        overflow: hidden;
    }

    /* ======= CONTAINER GERAL ======= */
    .container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 60px;
        flex-wrap: wrap;
        max-width: 100%;
        padding: 20px;
    }

    /* ======= LOGO ======= */
    .logo-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .logo {
        width: 220px;
        max-width: 70vw;
        height: auto;
        filter: drop-shadow(0 0 6px #1e40af);
    }

    .logo-title {
        margin-top: 15px;
        font-size: 20px;
        font-weight: 600;
        color: var(--text-light);
        letter-spacing: 1px;
        text-shadow: 0 0 8px rgba(96, 165, 250, 0.5);
    }

    /* ======= CARD LOGIN ======= */
    .card {
        background: var(--card);
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        width: 360px;
        max-width: 90vw;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .tabs {
        display: flex;
        border-radius: 15px 15px 0 0;
        overflow: hidden;
        margin-bottom: 20px;
    }

    .tab {
        flex: 1;
        text-align: center;
        padding: 12px;
        cursor: pointer;
        background: #1e293b;
        border: none;
        color: white;
        font-weight: bold;
        transition: background 0.3s;
        font-size: 15px;
    }

    .tab.active {
        background: var(--primary);
    }

    /* ======= FORM ======= */
    .form-content {
        display: flex;
        flex-direction: column;
    }

    .input-group {
        display: flex;
        flex-direction: column;
        gap: 15px;
        width: 100%;
    }

    input {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: none;
        background: #1f2937;
        color: white;
        font-size: 15px;
        box-sizing: border-box;
    }

    input:focus {
        background: #243046;
        outline: none;
    }

    button {
        width: 100%;
        padding: 14px;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        font-size: 15px;
        transition: background 0.3s, transform 0.2s;
    }

    button:hover {
        background: var(--primary-dark);
        transform: scale(1.03);
    }

    .error {
        color: #f87171;
        text-align: center;
        font-size: 14px;
        margin-top: 5px;
    }

    /* ======= MENU ======= */
    #menu {
        display: none;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 20px;
        width: 100%;
        max-width: 500px;
    }

    #dashboard-logo {
        width: 180px;
        margin-bottom: 20px;
        filter: drop-shadow(0 0 6px #1e3a8a);
    }

    .button-group {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        width: 100%;
    }

    .button-group button {
        background-color: var(--primary);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 14px 22px;
        width: 100%;
        max-width: 280px;
        font-weight: bold;
        cursor: pointer;
        font-size: 15px;
        transition: 0.3s;
    }

    .button-group button:hover {
        background-color: var(--primary-dark);
        transform: scale(1.05);
    }

    /* ======= ADMIN ======= */
    #adminSection {
        display: none;
        background: var(--card);
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        width: 100%;
        max-width: 500px;
        margin-top: 25px;
        text-align: center;
    }

    #userList {
        width: 100%;
        border-collapse: collapse;
    }

    #userList th, #userList td {
        padding: 8px;
        border-bottom: 1px solid #2d3748;
        word-break: break-word;
    }

    #userList th {
        color: var(--text-light);
    }

    .delete-btn {
        background: var(--danger);
        border: none;
        color: white;
        padding: 5px 10px;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s;
    }

    .delete-btn:hover {
        background: #b91c1c;
    }

    /* ======= RESPONSIVIDADE ======= */
    @media (max-width: 768px) {
        body {
            height: auto;
            min-height: 100vh;
            overflow-y: auto;
            padding: 30px 10px;
        }

        .container {
            flex-direction: column;
            gap: 30px;
        }

        .logo {
            width: 180px;
        }

        .card {
            width: 100%;
            max-width: 400px;
        }

        button {
            font-size: 16px;
        }
    }
</style>
</head>
<body>
<div class="container" id="login-container">
    <div class="logo-section">
        <img class="logo" src="Logo.png" alt="Logo">
        <h2 class="logo-title">Painel Resumo Inteligente</h2>
    </div>

    <div class="card">
        <div class="tabs">
            <button id="loginTab" class="tab active" onclick="showLogin()">Login</button>
            <button id="registerTab" class="tab" onclick="showRegister()">Criar Conta</button>
        </div>

        <div class="form-content">
            <div id="login-form">
                <div class="input-group">
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Senha" required>
                </div>
                <button onclick="login()">Entrar</button>
                <p id="login-error" class="error"></p>
            </div>

            <div id="register-form" style="display: none;">
                <div class="input-group">
                    <input type="text" id="register-name" placeholder="Nome" required>
                    <input type="email" id="register-email" placeholder="Email" required>
                    <input type="password" id="register-password" placeholder="Senha (mínimo 6 caracteres)" required>
                </div>
                <button onclick="register()">Criar Conta</button>
                <p id="register-error" class="error"></p>
            </div>
        </div>
    </div>
</div>

<!-- ===== MENU PRINCIPAL ===== -->
<div id="menu">
    <img id="dashboard-logo" src="Logo.png" alt="Logo do Sistema">
    <h2 id="welcome-text">Bem-vindo!</h2>
    <p id="user-email-text"></p>

    <div class="button-group">
        <button id="accessSimulationBtn">Acessar Simulado</button>
        <button id="logoutBtn" onclick="logout()">Sair</button>
        <button id="adminPanel" onclick="toggleAdminPanel()" style="display: none;">Gerenciamento de Contas</button>
    </div>

    <div id="adminSection">
        <h3>Gerenciamento de Contas</h3>
        <table id="userList">
            <thead>
                <tr><th>Nome</th><th>Email</th><th>Ações</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    const loginContainer = document.getElementById("login-container");
    const menu = document.getElementById("menu");
    const adminSection = document.getElementById("adminSection");

    function showLogin() {
        document.getElementById("login-form").style.display = "block";
        document.getElementById("register-form").style.display = "none";
        document.getElementById("loginTab").classList.add("active");
        document.getElementById("registerTab").classList.remove("active");
    }

    function showRegister() {
        document.getElementById("login-form").style.display = "none";
        document.getElementById("register-form").style.display = "block";
        document.getElementById("registerTab").classList.add("active");
        document.getElementById("loginTab").classList.remove("active");
    }

    function register() {
        const name = document.getElementById("register-name").value.trim();
        const email = document.getElementById("register-email").value.trim();
        const password = document.getElementById("register-password").value.trim();
        const errorMsg = document.getElementById("register-error");

        errorMsg.textContent = "";

        if (!email.includes("@")) {
            errorMsg.textContent = "Insira um e-mail válido.";
            return;
        }

        if (password.length < 6) {
            errorMsg.textContent = "A senha deve ter pelo menos 6 caracteres.";
            return;
        }

        let users = JSON.parse(localStorage.getItem("users")) || [];

        if (users.find(u => u.email === email)) {
            errorMsg.textContent = "Este e-mail já está cadastrado.";
            return;
        }

        users.push({ name, email, password });
        localStorage.setItem("users", JSON.stringify(users));

        showLogin();
    }

    function login() {
        const email = document.getElementById("login-email").value.trim();
        const password = document.getElementById("login-password").value.trim();
        const errorMsg = document.getElementById("login-error");

        let users = JSON.parse(localStorage.getItem("users")) || [];
        let user = users.find(u => u.email === email && u.password === password);

        if (!user) {
            errorMsg.textContent = "E-mail ou senha incorretos.";
            return;
        }

        localStorage.setItem("loggedUser", JSON.stringify(user));
        loginContainer.style.display = "none";
        menu.style.display = "flex";
        showMenu(user);
    }

    function showMenu(user) {
        document.getElementById("welcome-text").textContent =
            user.email === "zshowerpvp1@gmail.com"
                ? "Bem-vindo, Administrador!"
                : `Bem-vindo, ${user.name}!`;

        document.getElementById("user-email-text").textContent = user.email;

        document.getElementById("adminPanel").style.display =
            user.email === "zshowerpvp1@gmail.com" ? "block" : "none";
    }

    function toggleAdminPanel() {
        adminSection.style.display =
            adminSection.style.display === "block" ? "none" : "block";
        if (adminSection.style.display === "block") renderUserList();
    }

    function renderUserList() {
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const tbody = document.querySelector("#userList tbody");
        tbody.innerHTML = "";

        users.forEach((user, index) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${user.name}</td>
                <td>${user.email}</td>
                <td>${user.email !== "zshowerpvp1@gmail.com"
                    ? `<button class='delete-btn' onclick='deleteUser(${index})'>Excluir</button>`
                    : `<em>Administrador</em>`}
                </td>
            `;
            tbody.appendChild(tr);
        });
    }

    function deleteUser(index) {
        let users = JSON.parse(localStorage.getItem("users")) || [];
        users.splice(index, 1);
        localStorage.setItem("users", JSON.stringify(users));
        renderUserList();
    }

    function logout() {
        localStorage.removeItem("loggedUser");
        menu.style.display = "none";
        loginContainer.style.display = "flex";
    }

    document.getElementById("accessSimulationBtn").addEventListener("click", function() {
        // 🔗 abre corretamente em celular
        window.location.href = "https://resumointeligente.github.io/quiz/";
    });

    window.onload = function() {
        const user = JSON.parse(localStorage.getItem("loggedUser"));
        if (user) {
            loginContainer.style.display = "none";
            menu.style.display = "flex";
            showMenu(user);
        }
    };
</script>
</body>
</html>
